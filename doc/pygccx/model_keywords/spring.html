<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>pygccx.model_keywords.spring API documentation</title>
<meta name="description" content="Copyright Matthias Sedlmaier 2022
This file is part of pygccx …" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>pygccx.model_keywords.spring</code></h1>
</header>
<section id="section-intro">
<p>Copyright Matthias Sedlmaier 2022
This file is part of pygccx.</p>
<p>pygccx is free software: you can redistribute it
and/or modify it under the terms of the GNU General Public License as
published by the Free Software Foundation, either version 3 of the
License, or (at your option) any later version.</p>
<p>pygccx is distributed in the hope that it will
be useful, but WITHOUT ANY WARRANTY; without even the implied warranty
of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
See the
GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License
along with pygccx.<br>
If not, see <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>.</p>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">&#39;&#39;&#39;
Copyright Matthias Sedlmaier 2022
This file is part of pygccx.

pygccx is free software: you can redistribute it 
and/or modify it under the terms of the GNU General Public License as 
published by the Free Software Foundation, either version 3 of the 
License, or (at your option) any later version.

pygccx is distributed in the hope that it will 
be useful, but WITHOUT ANY WARRANTY; without even the implied warranty 
of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with pygccx.  
If not, see &lt;http://www.gnu.org/licenses/&gt;.
&#39;&#39;&#39;

from dataclasses import dataclass, field, InitVar
from typing import Sequence, Optional, Any
import numpy as np
import numpy.typing as npt

from pygccx.protocols import ISet, IKeyword, number
from pygccx.auxiliary import f2s
from pygccx.enums import ESetTypes


@dataclass
class SpringLin:
    &#34;&#34;&#34;
    Class to define the linear stiffness for SPRING1, SPRING2 or SPRINGA elements

    The stiffness for the first temperature have to be provided
    to the init of this class. Further sets to define temperature dependence
    can be added by the method add_stiffness_for_temp()

    Args:
        elset: Element set for which the spring behavior is defined
        stiffness Stiffness for first temperature
        temp: Temperature of first stiffness
        first_dof: First degree of freedom. Mandatory for SPRING1 and SPRING2 elements. Not used for SPRINGA.
        second_dof: Second degree of freedom. Mandatory for SPRING2 elements.Not used for SPRING1 and SPRINGA.
        orientation: Optional. Orientation object. Can be used to define a local orientation of the spring for SPRING1 and SPRING2 elements
        name: Optional. Name of this instance
        desc: Optional. A short description of this instance. This is written to 
                the ccx input file.
    &#34;&#34;&#34;

    elset: ISet
    &#34;&#34;&#34;Element set for which the spring behavior is defined&#34;&#34;&#34;
    stiffness: InitVar[number]
    &#34;&#34;&#34;Stiffness for first temperature&#34;&#34;&#34;
    temp:InitVar[number] = 294.
    &#34;&#34;&#34;Temperature of first stiffness&#34;&#34;&#34;
    first_dof:Optional[int] = None
    &#34;&#34;&#34;First degree of freedom. Mandatory for SPRING1 and SPRING2 elements. Not used for SPRINGA.&#34;&#34;&#34;
    second_dof:Optional[int] = None
    &#34;&#34;&#34;Second degree of freedom. Mandatory for SPRING2 elements. Not used for SPRING1 and SPRINGA.&#34;&#34;&#34;
    orientation: Optional[IKeyword] = None
    &#34;&#34;&#34;Orientation object. Can be used to define a local orientation of the spring for SPRING1 and
        SPRING2 elements&#34;&#34;&#34;
    name:str = &#39;&#39;
    &#34;&#34;&#34;Name of this instance&#34;&#34;&#34;
    desc:str = &#39;&#39;
    &#34;&#34;&#34;A short description of this instance. This is written to the ccx input file.&#34;&#34;&#34;

    stiffness_for_temps:list = field(default_factory=list, init=False)

    def __setattr__(self, name: str, value: Any) -&gt; None:
        if name == &#39;elset&#39; and value.type != ESetTypes.ELEMENT:
            raise ValueError(f&#39;Set type of elset must be Element, got {value.type.name}&#39;)
        if name in [&#39;first_dof&#39;, &#39;second_dof&#39;] and value is not None and value &lt; 1:
            raise ValueError(f&#39;{name} must be greater than 0, got {value}&#39;)
        if name == &#39;second_dof&#39; and value is not None:
            if self.first_dof is None:
                raise ValueError(f&#39;If a value for second dof is specified, first_dof must be specified as well&#39;)
        if name == &#39;first_dof&#39; and value is None:
            if self.second_dof is not None:
                raise ValueError(f&#39;If None is specified for first_dof, second_dof must be None as well&#39;)
        super().__setattr__(name, value)

    def __post_init__(self, stiffness, temp):
        self.add_stiffness_for_temp(temp, stiffness)


    def add_stiffness_for_temp(self, temp:number, stiffness:number): 
        &#34;&#34;&#34;
        Adds a stiffness for a given temperature.

        Args:
            temp (number): temperature for this stiffness
            stiffness (number): stiffness for temp
        &#34;&#34;&#34;

        self.stiffness_for_temps.append((temp, stiffness))


    def __str__(self):

        s = f&#39;*SPRING,ELSET={self.elset.name}&#39;
        if self.orientation: s += f&#39;,ORIENTATION={self.orientation.name}&#39;
        s += &#39;\n&#39;

        if self.first_dof is not None: s += f&#39;{self.first_dof}&#39;
        if self.second_dof is not None: s += f&#39;,{self.second_dof}&#39;
        s += &#39;\n&#39;

        for p in self.stiffness_for_temps:
            temp, stiffness = p
            s += f&#39;{f2s(stiffness)},,{f2s(temp)}\n&#39;
        
        return s

@dataclass
class SpringNonlin:
    &#34;&#34;&#34;
    Class to define the nonlinear stiffness for SPRING1, SPRING2 or SPRINGA elements

    The forces and elongations for the first temperature has to be provided
    to the init of this class. Further sets to define temperature dependence
    can be added by the method add_force_elong_for_temp()

    Args:
        elset: Element set for which the spring behavior is defined
        force: Sequence of forces for first temperature. Must be same length as elong
        elong: Sequence of elongations for first temperature. Must be same length as force
        temp: Temperature of first stiffness
        first_dof: First degree of freedom. Mandatory for SPRING1 and SPRING2 elements. Not used for SPRINGA.
        second_dof: Second degree of freedom. Mandatory for SPRING2 elements.Not used for SPRING1 and SPRINGA.
        orientation: Optional. Orientation object. Can be used to define a local orientation of the spring for SPRING1 and SPRING2 elements
        name: Optional. Name of this instance
        desc: Optional. A short description of this instance. This is written to 
                the ccx input file.
    &#34;&#34;&#34;
    elset: ISet
    &#34;&#34;&#34;Element set for which the spring behavior is defined&#34;&#34;&#34;
    force:InitVar[Sequence[number]|npt.NDArray[np.float64]]
    &#34;&#34;&#34;Sequence of forces for first temperature. Must be same length as elong&#34;&#34;&#34;
    elong:InitVar[Sequence[number]|npt.NDArray[np.float64]]
    &#34;&#34;&#34;Sequence of elongations for first temperature. Must be same length as force&#34;&#34;&#34;
    temp:InitVar[number] = 294.
    &#34;&#34;&#34;temperature of first force-elongation table&#34;&#34;&#34;
    orientation: Optional[IKeyword] = None
    &#34;&#34;&#34;Orientation object. Can be used to define a local orientation of the spring for SPRING1 and
        SPRING2 elements&#34;&#34;&#34;
    first_dof:Optional[int] = None
    &#34;&#34;&#34;First degree of freedom. Mandatory for SPRING1 and SPRING2 elements&#34;&#34;&#34;
    second_dof:Optional[int] = None
    &#34;&#34;&#34;First degree of freedom. Mandatory for SPRING2 elements&#34;&#34;&#34;
    name:str = &#39;&#39;
    &#34;&#34;&#34;Name of this instance&#34;&#34;&#34;
    desc:str = &#39;&#39;
    &#34;&#34;&#34;A short description of this instance. This is written to the ccx input file.&#34;&#34;&#34;

    force_elong_for_temps:list = field(default_factory=list, init=False)

    def __setattr__(self, name: str, value: Any) -&gt; None:
        if name == &#39;elset&#39; and value.type != ESetTypes.ELEMENT:
            raise ValueError(f&#39;Set type of elset must be Element, got {value.type.name}&#39;)
        if name in [&#39;first_dof&#39;, &#39;second_dof&#39;] and value is not None and value &lt; 1:
            raise ValueError(f&#39;{name} must be greater than 0, got {value}&#39;)
        if name == &#39;second_dof&#39; and value is not None:
            if self.first_dof is None:
                raise ValueError(f&#39;If a value for second dof is specified, first_dof must be specified as well&#39;)
        if name == &#39;first_dof&#39; and value is None:
            if self.second_dof is not None:
                raise ValueError(f&#39;If None is specified for first_dof, second_dof must be None as well&#39;)
        super().__setattr__(name, value)

    def __post_init__(self, force, elong, temp):
        self.add_force_elong_for_temp(temp, force, elong)


    def add_force_elong_for_temp(self, temp:number, 
                                 force:Sequence[number]|npt.NDArray[np.float64],
                                 elong:Sequence[number]|npt.NDArray[np.float64]): 
        &#34;&#34;&#34;
        Adds a table of force and elongation for a given temperature.

        Args:
            temp (number): temperature for this stiffness
            force (Sequence[number]|npt.NDArray[np.float64]): Sequence of forces. Must be same length as elong
            elong (Sequence[number]|npt.NDArray[np.float64]): Sequence of elongations. Must be same length as force
        &#34;&#34;&#34;
        if len(force) != len(elong):
            raise ValueError(f&#34;force and elong must have equal length.&#34;)

        self.force_elong_for_temps.append((temp, force, elong))


    def __str__(self):

        s = f&#39;*SPRING,ELSET={self.elset.name},NONLINEAR&#39;
        if self.orientation: s += f&#39;,ORIENTATION={self.orientation.name}&#39;
        s += &#39;\n&#39;

        if self.first_dof is not None: s += f&#39;{self.first_dof}&#39;
        if self.second_dof is not None: s += f&#39;,{self.second_dof}&#39;
        s += &#39;\n&#39;

        for p in self.force_elong_for_temps:
            temp, force, elong = p
            for f, e in zip(force, elong):
                s += f&#39;{f:15.7e},{e:15.7e},{temp:15.7e}\n&#39; 
        
        return s</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="pygccx.model_keywords.spring.SpringLin"><code class="flex name class">
<span>class <span class="ident">SpringLin</span></span>
<span>(</span><span>elset: <a title="pygccx.protocols.ISet" href="../protocols.html#pygccx.protocols.ISet">ISet</a>, stiffness: dataclasses.InitVar[int | float | numpy.number], temp: dataclasses.InitVar[int | float | numpy.number] = 294.0, first_dof: Optional[int] = None, second_dof: Optional[int] = None, orientation: Optional[<a title="pygccx.protocols.IKeyword" href="../protocols.html#pygccx.protocols.IKeyword">IKeyword</a>] = None, name: str = '', desc: str = '')</span>
</code></dt>
<dd>
<div class="desc"><p>Class to define the linear stiffness for SPRING1, SPRING2 or SPRINGA elements</p>
<p>The stiffness for the first temperature have to be provided
to the init of this class. Further sets to define temperature dependence
can be added by the method add_stiffness_for_temp()</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>elset</code></strong></dt>
<dd>Element set for which the spring behavior is defined</dd>
<dt>stiffness Stiffness for first temperature</dt>
<dt><strong><code>temp</code></strong></dt>
<dd>Temperature of first stiffness</dd>
<dt><strong><code>first_dof</code></strong></dt>
<dd>First degree of freedom. Mandatory for SPRING1 and SPRING2 elements. Not used for SPRINGA.</dd>
<dt><strong><code>second_dof</code></strong></dt>
<dd>Second degree of freedom. Mandatory for SPRING2 elements.Not used for SPRING1 and SPRINGA.</dd>
<dt><strong><code>orientation</code></strong></dt>
<dd>Optional. Orientation object. Can be used to define a local orientation of the spring for SPRING1 and SPRING2 elements</dd>
<dt><strong><code>name</code></strong></dt>
<dd>Optional. Name of this instance</dd>
<dt><strong><code>desc</code></strong></dt>
<dd>Optional. A short description of this instance. This is written to
the ccx input file.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@dataclass
class SpringLin:
    &#34;&#34;&#34;
    Class to define the linear stiffness for SPRING1, SPRING2 or SPRINGA elements

    The stiffness for the first temperature have to be provided
    to the init of this class. Further sets to define temperature dependence
    can be added by the method add_stiffness_for_temp()

    Args:
        elset: Element set for which the spring behavior is defined
        stiffness Stiffness for first temperature
        temp: Temperature of first stiffness
        first_dof: First degree of freedom. Mandatory for SPRING1 and SPRING2 elements. Not used for SPRINGA.
        second_dof: Second degree of freedom. Mandatory for SPRING2 elements.Not used for SPRING1 and SPRINGA.
        orientation: Optional. Orientation object. Can be used to define a local orientation of the spring for SPRING1 and SPRING2 elements
        name: Optional. Name of this instance
        desc: Optional. A short description of this instance. This is written to 
                the ccx input file.
    &#34;&#34;&#34;

    elset: ISet
    &#34;&#34;&#34;Element set for which the spring behavior is defined&#34;&#34;&#34;
    stiffness: InitVar[number]
    &#34;&#34;&#34;Stiffness for first temperature&#34;&#34;&#34;
    temp:InitVar[number] = 294.
    &#34;&#34;&#34;Temperature of first stiffness&#34;&#34;&#34;
    first_dof:Optional[int] = None
    &#34;&#34;&#34;First degree of freedom. Mandatory for SPRING1 and SPRING2 elements. Not used for SPRINGA.&#34;&#34;&#34;
    second_dof:Optional[int] = None
    &#34;&#34;&#34;Second degree of freedom. Mandatory for SPRING2 elements. Not used for SPRING1 and SPRINGA.&#34;&#34;&#34;
    orientation: Optional[IKeyword] = None
    &#34;&#34;&#34;Orientation object. Can be used to define a local orientation of the spring for SPRING1 and
        SPRING2 elements&#34;&#34;&#34;
    name:str = &#39;&#39;
    &#34;&#34;&#34;Name of this instance&#34;&#34;&#34;
    desc:str = &#39;&#39;
    &#34;&#34;&#34;A short description of this instance. This is written to the ccx input file.&#34;&#34;&#34;

    stiffness_for_temps:list = field(default_factory=list, init=False)

    def __setattr__(self, name: str, value: Any) -&gt; None:
        if name == &#39;elset&#39; and value.type != ESetTypes.ELEMENT:
            raise ValueError(f&#39;Set type of elset must be Element, got {value.type.name}&#39;)
        if name in [&#39;first_dof&#39;, &#39;second_dof&#39;] and value is not None and value &lt; 1:
            raise ValueError(f&#39;{name} must be greater than 0, got {value}&#39;)
        if name == &#39;second_dof&#39; and value is not None:
            if self.first_dof is None:
                raise ValueError(f&#39;If a value for second dof is specified, first_dof must be specified as well&#39;)
        if name == &#39;first_dof&#39; and value is None:
            if self.second_dof is not None:
                raise ValueError(f&#39;If None is specified for first_dof, second_dof must be None as well&#39;)
        super().__setattr__(name, value)

    def __post_init__(self, stiffness, temp):
        self.add_stiffness_for_temp(temp, stiffness)


    def add_stiffness_for_temp(self, temp:number, stiffness:number): 
        &#34;&#34;&#34;
        Adds a stiffness for a given temperature.

        Args:
            temp (number): temperature for this stiffness
            stiffness (number): stiffness for temp
        &#34;&#34;&#34;

        self.stiffness_for_temps.append((temp, stiffness))


    def __str__(self):

        s = f&#39;*SPRING,ELSET={self.elset.name}&#39;
        if self.orientation: s += f&#39;,ORIENTATION={self.orientation.name}&#39;
        s += &#39;\n&#39;

        if self.first_dof is not None: s += f&#39;{self.first_dof}&#39;
        if self.second_dof is not None: s += f&#39;,{self.second_dof}&#39;
        s += &#39;\n&#39;

        for p in self.stiffness_for_temps:
            temp, stiffness = p
            s += f&#39;{f2s(stiffness)},,{f2s(temp)}\n&#39;
        
        return s</code></pre>
</details>
<h3>Class variables</h3>
<dl>
<dt id="pygccx.model_keywords.spring.SpringLin.desc"><code class="name">var <span class="ident">desc</span> : str</code></dt>
<dd>
<div class="desc"><p>A short description of this instance. This is written to the ccx input file.</p></div>
</dd>
<dt id="pygccx.model_keywords.spring.SpringLin.elset"><code class="name">var <span class="ident">elset</span> : <a title="pygccx.protocols.ISet" href="../protocols.html#pygccx.protocols.ISet">ISet</a></code></dt>
<dd>
<div class="desc"><p>Element set for which the spring behavior is defined</p></div>
</dd>
<dt id="pygccx.model_keywords.spring.SpringLin.first_dof"><code class="name">var <span class="ident">first_dof</span> : Optional[int]</code></dt>
<dd>
<div class="desc"><p>First degree of freedom. Mandatory for SPRING1 and SPRING2 elements. Not used for SPRINGA.</p></div>
</dd>
<dt id="pygccx.model_keywords.spring.SpringLin.name"><code class="name">var <span class="ident">name</span> : str</code></dt>
<dd>
<div class="desc"><p>Name of this instance</p></div>
</dd>
<dt id="pygccx.model_keywords.spring.SpringLin.orientation"><code class="name">var <span class="ident">orientation</span> : Optional[<a title="pygccx.protocols.IKeyword" href="../protocols.html#pygccx.protocols.IKeyword">IKeyword</a>]</code></dt>
<dd>
<div class="desc"><p>Orientation object. Can be used to define a local orientation of the spring for SPRING1 and
SPRING2 elements</p></div>
</dd>
<dt id="pygccx.model_keywords.spring.SpringLin.second_dof"><code class="name">var <span class="ident">second_dof</span> : Optional[int]</code></dt>
<dd>
<div class="desc"><p>Second degree of freedom. Mandatory for SPRING2 elements. Not used for SPRING1 and SPRINGA.</p></div>
</dd>
<dt id="pygccx.model_keywords.spring.SpringLin.stiffness"><code class="name">var <span class="ident">stiffness</span> : dataclasses.InitVar[int | float | numpy.number]</code></dt>
<dd>
<div class="desc"><p>Stiffness for first temperature</p></div>
</dd>
<dt id="pygccx.model_keywords.spring.SpringLin.stiffness_for_temps"><code class="name">var <span class="ident">stiffness_for_temps</span> : list</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="pygccx.model_keywords.spring.SpringLin.temp"><code class="name">var <span class="ident">temp</span> : dataclasses.InitVar[int | float | numpy.number]</code></dt>
<dd>
<div class="desc"><p>Temperature of first stiffness</p></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="pygccx.model_keywords.spring.SpringLin.add_stiffness_for_temp"><code class="name flex">
<span>def <span class="ident">add_stiffness_for_temp</span></span>(<span>self, temp: int | float | numpy.number, stiffness: int | float | numpy.number)</span>
</code></dt>
<dd>
<div class="desc"><p>Adds a stiffness for a given temperature.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>temp</code></strong> :&ensp;<code>number</code></dt>
<dd>temperature for this stiffness</dd>
<dt><strong><code>stiffness</code></strong> :&ensp;<code>number</code></dt>
<dd>stiffness for temp</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def add_stiffness_for_temp(self, temp:number, stiffness:number): 
    &#34;&#34;&#34;
    Adds a stiffness for a given temperature.

    Args:
        temp (number): temperature for this stiffness
        stiffness (number): stiffness for temp
    &#34;&#34;&#34;

    self.stiffness_for_temps.append((temp, stiffness))</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="pygccx.model_keywords.spring.SpringNonlin"><code class="flex name class">
<span>class <span class="ident">SpringNonlin</span></span>
<span>(</span><span>elset: <a title="pygccx.protocols.ISet" href="../protocols.html#pygccx.protocols.ISet">ISet</a>, force: dataclasses.InitVar[typing.Union[typing.Sequence[int | float | numpy.number], numpy.ndarray[typing.Any, numpy.dtype[numpy.float64]]]], elong: dataclasses.InitVar[typing.Union[typing.Sequence[int | float | numpy.number], numpy.ndarray[typing.Any, numpy.dtype[numpy.float64]]]], temp: dataclasses.InitVar[int | float | numpy.number] = 294.0, orientation: Optional[<a title="pygccx.protocols.IKeyword" href="../protocols.html#pygccx.protocols.IKeyword">IKeyword</a>] = None, first_dof: Optional[int] = None, second_dof: Optional[int] = None, name: str = '', desc: str = '')</span>
</code></dt>
<dd>
<div class="desc"><p>Class to define the nonlinear stiffness for SPRING1, SPRING2 or SPRINGA elements</p>
<p>The forces and elongations for the first temperature has to be provided
to the init of this class. Further sets to define temperature dependence
can be added by the method add_force_elong_for_temp()</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>elset</code></strong></dt>
<dd>Element set for which the spring behavior is defined</dd>
<dt><strong><code>force</code></strong></dt>
<dd>Sequence of forces for first temperature. Must be same length as elong</dd>
<dt><strong><code>elong</code></strong></dt>
<dd>Sequence of elongations for first temperature. Must be same length as force</dd>
<dt><strong><code>temp</code></strong></dt>
<dd>Temperature of first stiffness</dd>
<dt><strong><code>first_dof</code></strong></dt>
<dd>First degree of freedom. Mandatory for SPRING1 and SPRING2 elements. Not used for SPRINGA.</dd>
<dt><strong><code>second_dof</code></strong></dt>
<dd>Second degree of freedom. Mandatory for SPRING2 elements.Not used for SPRING1 and SPRINGA.</dd>
<dt><strong><code>orientation</code></strong></dt>
<dd>Optional. Orientation object. Can be used to define a local orientation of the spring for SPRING1 and SPRING2 elements</dd>
<dt><strong><code>name</code></strong></dt>
<dd>Optional. Name of this instance</dd>
<dt><strong><code>desc</code></strong></dt>
<dd>Optional. A short description of this instance. This is written to
the ccx input file.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@dataclass
class SpringNonlin:
    &#34;&#34;&#34;
    Class to define the nonlinear stiffness for SPRING1, SPRING2 or SPRINGA elements

    The forces and elongations for the first temperature has to be provided
    to the init of this class. Further sets to define temperature dependence
    can be added by the method add_force_elong_for_temp()

    Args:
        elset: Element set for which the spring behavior is defined
        force: Sequence of forces for first temperature. Must be same length as elong
        elong: Sequence of elongations for first temperature. Must be same length as force
        temp: Temperature of first stiffness
        first_dof: First degree of freedom. Mandatory for SPRING1 and SPRING2 elements. Not used for SPRINGA.
        second_dof: Second degree of freedom. Mandatory for SPRING2 elements.Not used for SPRING1 and SPRINGA.
        orientation: Optional. Orientation object. Can be used to define a local orientation of the spring for SPRING1 and SPRING2 elements
        name: Optional. Name of this instance
        desc: Optional. A short description of this instance. This is written to 
                the ccx input file.
    &#34;&#34;&#34;
    elset: ISet
    &#34;&#34;&#34;Element set for which the spring behavior is defined&#34;&#34;&#34;
    force:InitVar[Sequence[number]|npt.NDArray[np.float64]]
    &#34;&#34;&#34;Sequence of forces for first temperature. Must be same length as elong&#34;&#34;&#34;
    elong:InitVar[Sequence[number]|npt.NDArray[np.float64]]
    &#34;&#34;&#34;Sequence of elongations for first temperature. Must be same length as force&#34;&#34;&#34;
    temp:InitVar[number] = 294.
    &#34;&#34;&#34;temperature of first force-elongation table&#34;&#34;&#34;
    orientation: Optional[IKeyword] = None
    &#34;&#34;&#34;Orientation object. Can be used to define a local orientation of the spring for SPRING1 and
        SPRING2 elements&#34;&#34;&#34;
    first_dof:Optional[int] = None
    &#34;&#34;&#34;First degree of freedom. Mandatory for SPRING1 and SPRING2 elements&#34;&#34;&#34;
    second_dof:Optional[int] = None
    &#34;&#34;&#34;First degree of freedom. Mandatory for SPRING2 elements&#34;&#34;&#34;
    name:str = &#39;&#39;
    &#34;&#34;&#34;Name of this instance&#34;&#34;&#34;
    desc:str = &#39;&#39;
    &#34;&#34;&#34;A short description of this instance. This is written to the ccx input file.&#34;&#34;&#34;

    force_elong_for_temps:list = field(default_factory=list, init=False)

    def __setattr__(self, name: str, value: Any) -&gt; None:
        if name == &#39;elset&#39; and value.type != ESetTypes.ELEMENT:
            raise ValueError(f&#39;Set type of elset must be Element, got {value.type.name}&#39;)
        if name in [&#39;first_dof&#39;, &#39;second_dof&#39;] and value is not None and value &lt; 1:
            raise ValueError(f&#39;{name} must be greater than 0, got {value}&#39;)
        if name == &#39;second_dof&#39; and value is not None:
            if self.first_dof is None:
                raise ValueError(f&#39;If a value for second dof is specified, first_dof must be specified as well&#39;)
        if name == &#39;first_dof&#39; and value is None:
            if self.second_dof is not None:
                raise ValueError(f&#39;If None is specified for first_dof, second_dof must be None as well&#39;)
        super().__setattr__(name, value)

    def __post_init__(self, force, elong, temp):
        self.add_force_elong_for_temp(temp, force, elong)


    def add_force_elong_for_temp(self, temp:number, 
                                 force:Sequence[number]|npt.NDArray[np.float64],
                                 elong:Sequence[number]|npt.NDArray[np.float64]): 
        &#34;&#34;&#34;
        Adds a table of force and elongation for a given temperature.

        Args:
            temp (number): temperature for this stiffness
            force (Sequence[number]|npt.NDArray[np.float64]): Sequence of forces. Must be same length as elong
            elong (Sequence[number]|npt.NDArray[np.float64]): Sequence of elongations. Must be same length as force
        &#34;&#34;&#34;
        if len(force) != len(elong):
            raise ValueError(f&#34;force and elong must have equal length.&#34;)

        self.force_elong_for_temps.append((temp, force, elong))


    def __str__(self):

        s = f&#39;*SPRING,ELSET={self.elset.name},NONLINEAR&#39;
        if self.orientation: s += f&#39;,ORIENTATION={self.orientation.name}&#39;
        s += &#39;\n&#39;

        if self.first_dof is not None: s += f&#39;{self.first_dof}&#39;
        if self.second_dof is not None: s += f&#39;,{self.second_dof}&#39;
        s += &#39;\n&#39;

        for p in self.force_elong_for_temps:
            temp, force, elong = p
            for f, e in zip(force, elong):
                s += f&#39;{f:15.7e},{e:15.7e},{temp:15.7e}\n&#39; 
        
        return s</code></pre>
</details>
<h3>Class variables</h3>
<dl>
<dt id="pygccx.model_keywords.spring.SpringNonlin.desc"><code class="name">var <span class="ident">desc</span> : str</code></dt>
<dd>
<div class="desc"><p>A short description of this instance. This is written to the ccx input file.</p></div>
</dd>
<dt id="pygccx.model_keywords.spring.SpringNonlin.elong"><code class="name">var <span class="ident">elong</span> : dataclasses.InitVar[typing.Union[typing.Sequence[int | float | numpy.number], numpy.ndarray[typing.Any, numpy.dtype[numpy.float64]]]]</code></dt>
<dd>
<div class="desc"><p>Sequence of elongations for first temperature. Must be same length as force</p></div>
</dd>
<dt id="pygccx.model_keywords.spring.SpringNonlin.elset"><code class="name">var <span class="ident">elset</span> : <a title="pygccx.protocols.ISet" href="../protocols.html#pygccx.protocols.ISet">ISet</a></code></dt>
<dd>
<div class="desc"><p>Element set for which the spring behavior is defined</p></div>
</dd>
<dt id="pygccx.model_keywords.spring.SpringNonlin.first_dof"><code class="name">var <span class="ident">first_dof</span> : Optional[int]</code></dt>
<dd>
<div class="desc"><p>First degree of freedom. Mandatory for SPRING1 and SPRING2 elements</p></div>
</dd>
<dt id="pygccx.model_keywords.spring.SpringNonlin.force"><code class="name">var <span class="ident">force</span> : dataclasses.InitVar[typing.Union[typing.Sequence[int | float | numpy.number], numpy.ndarray[typing.Any, numpy.dtype[numpy.float64]]]]</code></dt>
<dd>
<div class="desc"><p>Sequence of forces for first temperature. Must be same length as elong</p></div>
</dd>
<dt id="pygccx.model_keywords.spring.SpringNonlin.force_elong_for_temps"><code class="name">var <span class="ident">force_elong_for_temps</span> : list</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="pygccx.model_keywords.spring.SpringNonlin.name"><code class="name">var <span class="ident">name</span> : str</code></dt>
<dd>
<div class="desc"><p>Name of this instance</p></div>
</dd>
<dt id="pygccx.model_keywords.spring.SpringNonlin.orientation"><code class="name">var <span class="ident">orientation</span> : Optional[<a title="pygccx.protocols.IKeyword" href="../protocols.html#pygccx.protocols.IKeyword">IKeyword</a>]</code></dt>
<dd>
<div class="desc"><p>Orientation object. Can be used to define a local orientation of the spring for SPRING1 and
SPRING2 elements</p></div>
</dd>
<dt id="pygccx.model_keywords.spring.SpringNonlin.second_dof"><code class="name">var <span class="ident">second_dof</span> : Optional[int]</code></dt>
<dd>
<div class="desc"><p>First degree of freedom. Mandatory for SPRING2 elements</p></div>
</dd>
<dt id="pygccx.model_keywords.spring.SpringNonlin.temp"><code class="name">var <span class="ident">temp</span> : dataclasses.InitVar[int | float | numpy.number]</code></dt>
<dd>
<div class="desc"><p>temperature of first force-elongation table</p></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="pygccx.model_keywords.spring.SpringNonlin.add_force_elong_for_temp"><code class="name flex">
<span>def <span class="ident">add_force_elong_for_temp</span></span>(<span>self, temp: int | float | numpy.number, force: Union[Sequence[int | float | numpy.number], numpy.ndarray[Any, numpy.dtype[numpy.float64]]], elong: Union[Sequence[int | float | numpy.number], numpy.ndarray[Any, numpy.dtype[numpy.float64]]])</span>
</code></dt>
<dd>
<div class="desc"><p>Adds a table of force and elongation for a given temperature.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>temp</code></strong> :&ensp;<code>number</code></dt>
<dd>temperature for this stiffness</dd>
</dl>
<p>force (Sequence[number]|npt.NDArray[np.float64]): Sequence of forces. Must be same length as elong
elong (Sequence[number]|npt.NDArray[np.float64]): Sequence of elongations. Must be same length as force</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def add_force_elong_for_temp(self, temp:number, 
                             force:Sequence[number]|npt.NDArray[np.float64],
                             elong:Sequence[number]|npt.NDArray[np.float64]): 
    &#34;&#34;&#34;
    Adds a table of force and elongation for a given temperature.

    Args:
        temp (number): temperature for this stiffness
        force (Sequence[number]|npt.NDArray[np.float64]): Sequence of forces. Must be same length as elong
        elong (Sequence[number]|npt.NDArray[np.float64]): Sequence of elongations. Must be same length as force
    &#34;&#34;&#34;
    if len(force) != len(elong):
        raise ValueError(f&#34;force and elong must have equal length.&#34;)

    self.force_elong_for_temps.append((temp, force, elong))</code></pre>
</details>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="pygccx.model_keywords" href="index.html">pygccx.model_keywords</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="pygccx.model_keywords.spring.SpringLin" href="#pygccx.model_keywords.spring.SpringLin">SpringLin</a></code></h4>
<ul class="">
<li><code><a title="pygccx.model_keywords.spring.SpringLin.add_stiffness_for_temp" href="#pygccx.model_keywords.spring.SpringLin.add_stiffness_for_temp">add_stiffness_for_temp</a></code></li>
<li><code><a title="pygccx.model_keywords.spring.SpringLin.desc" href="#pygccx.model_keywords.spring.SpringLin.desc">desc</a></code></li>
<li><code><a title="pygccx.model_keywords.spring.SpringLin.elset" href="#pygccx.model_keywords.spring.SpringLin.elset">elset</a></code></li>
<li><code><a title="pygccx.model_keywords.spring.SpringLin.first_dof" href="#pygccx.model_keywords.spring.SpringLin.first_dof">first_dof</a></code></li>
<li><code><a title="pygccx.model_keywords.spring.SpringLin.name" href="#pygccx.model_keywords.spring.SpringLin.name">name</a></code></li>
<li><code><a title="pygccx.model_keywords.spring.SpringLin.orientation" href="#pygccx.model_keywords.spring.SpringLin.orientation">orientation</a></code></li>
<li><code><a title="pygccx.model_keywords.spring.SpringLin.second_dof" href="#pygccx.model_keywords.spring.SpringLin.second_dof">second_dof</a></code></li>
<li><code><a title="pygccx.model_keywords.spring.SpringLin.stiffness" href="#pygccx.model_keywords.spring.SpringLin.stiffness">stiffness</a></code></li>
<li><code><a title="pygccx.model_keywords.spring.SpringLin.stiffness_for_temps" href="#pygccx.model_keywords.spring.SpringLin.stiffness_for_temps">stiffness_for_temps</a></code></li>
<li><code><a title="pygccx.model_keywords.spring.SpringLin.temp" href="#pygccx.model_keywords.spring.SpringLin.temp">temp</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="pygccx.model_keywords.spring.SpringNonlin" href="#pygccx.model_keywords.spring.SpringNonlin">SpringNonlin</a></code></h4>
<ul class="">
<li><code><a title="pygccx.model_keywords.spring.SpringNonlin.add_force_elong_for_temp" href="#pygccx.model_keywords.spring.SpringNonlin.add_force_elong_for_temp">add_force_elong_for_temp</a></code></li>
<li><code><a title="pygccx.model_keywords.spring.SpringNonlin.desc" href="#pygccx.model_keywords.spring.SpringNonlin.desc">desc</a></code></li>
<li><code><a title="pygccx.model_keywords.spring.SpringNonlin.elong" href="#pygccx.model_keywords.spring.SpringNonlin.elong">elong</a></code></li>
<li><code><a title="pygccx.model_keywords.spring.SpringNonlin.elset" href="#pygccx.model_keywords.spring.SpringNonlin.elset">elset</a></code></li>
<li><code><a title="pygccx.model_keywords.spring.SpringNonlin.first_dof" href="#pygccx.model_keywords.spring.SpringNonlin.first_dof">first_dof</a></code></li>
<li><code><a title="pygccx.model_keywords.spring.SpringNonlin.force" href="#pygccx.model_keywords.spring.SpringNonlin.force">force</a></code></li>
<li><code><a title="pygccx.model_keywords.spring.SpringNonlin.force_elong_for_temps" href="#pygccx.model_keywords.spring.SpringNonlin.force_elong_for_temps">force_elong_for_temps</a></code></li>
<li><code><a title="pygccx.model_keywords.spring.SpringNonlin.name" href="#pygccx.model_keywords.spring.SpringNonlin.name">name</a></code></li>
<li><code><a title="pygccx.model_keywords.spring.SpringNonlin.orientation" href="#pygccx.model_keywords.spring.SpringNonlin.orientation">orientation</a></code></li>
<li><code><a title="pygccx.model_keywords.spring.SpringNonlin.second_dof" href="#pygccx.model_keywords.spring.SpringNonlin.second_dof">second_dof</a></code></li>
<li><code><a title="pygccx.model_keywords.spring.SpringNonlin.temp" href="#pygccx.model_keywords.spring.SpringNonlin.temp">temp</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>